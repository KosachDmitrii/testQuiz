{"ast":null,"code":"const products = [{\n  id: 1,\n  name: \"Apple\",\n  description: \"An apple is an edible fruit produced by an apple tree (Malus domestica). \",\n  price: \"13.50\",\n  creationDate: \"13-09-2021\",\n  image: \"https://image.freepik.com/free-photo/red-apple-with-green-leaf-white-background_1232-3290.jpg?2\"\n}, {\n  id: 2,\n  name: \"Orange\",\n  description: \"The orange is the fruit of various citrus species in the family Rutaceae. \",\n  price: \"4.50\",\n  creationDate: \"22-03-2021\",\n  image: \"https://image.freepik.com/free-vector/watercolor-orange-background_52683-10330.jpg\"\n}, {\n  id: 3,\n  name: \"Banana\",\n  description: \"A banana is an elongated, edible fruit – botanically a berry – produced by several kinds of large herbaceous flowering plants in the genus Musa.\",\n  price: \"12.30\",\n  creationDate: \"19-07-2021\",\n  image: \"https://image.freepik.com/free-photo/peeled-banana-isolated-white-background-with-clipping-path_88281-97.jpg\"\n}];\nlocalStorage.setItem('products', JSON.stringify(products));\nconst initialState = {\n  products: JSON.parse(localStorage.getItem('products')),\n  productCurrent: products[0],\n  sortBy: \"\"\n};\nexport function productsReducer(state = initialState, action) {\n  let productsList = JSON.parse(localStorage.getItem('products'));\n\n  switch (action.type) {\n    case 'UPDATE_PRODUCT_DETAILS':\n      const list = productsList.map(product => {\n        return product.id === action.payload.id ? action.payload : product;\n      });\n      localStorage.setItem('products', JSON.stringify(list));\n      return { ...state,\n        products: list\n      };\n\n    case 'UPDATE_PRODUCTS_LIST_BY_SEARCH':\n      if (action.payload === \"\") {\n        return { ...state,\n          products: productsList\n        };\n      }\n\n      const productsListBySearch = productsList.filter(product => {\n        return product.name.toLowerCase().includes(action.payload.toLowerCase()) === true ? product : \"\";\n      });\n      return { ...state,\n        products: productsListBySearch\n      };\n\n    case 'UPDATE_PRODUCTS_LIST_BY_SORT':\n      let productsListBySort = [];\n\n      switch (action.payload) {\n        case 'name':\n          productsListBySort = productsList.sort((a, b) => {\n            return a.name > b.name ? 1 : -1;\n          });\n          return { ...state,\n            products: productsListBySort,\n            sortBy: action.payload\n          };\n\n        case 'id':\n        case 'no sort':\n          productsListBySort = productsList.sort((a, b) => {\n            return a.id > b.id ? 1 : -1;\n          });\n          return { ...state,\n            products: productsListBySort,\n            sortBy: action.payload\n          };\n\n        case 'price':\n          productsListBySort = productsList.sort((a, b) => {\n            return Number.parseFloat(a.price) > Number.parseFloat(b.price) ? 1 : -1;\n          });\n          return { ...state,\n            products: productsListBySort,\n            sortBy: action.payload\n          };\n\n        default:\n          return state;\n      }\n\n    case 'UPDATE_PRODUCT_CURRENT':\n      return { ...state,\n        productCurrent: action.payload\n      };\n\n    case 'ADD_NEW_PRODUCT':\n      const newList = Array.from([...productsList]);\n      newList.push(action.payload);\n      localStorage.setItem('products', JSON.stringify(newList));\n      return { ...state,\n        products: newList\n      };\n\n    case 'DELETE_PRODUCT':\n      const newDeleteList = productsList.filter(product => {\n        return product.id !== action.payload;\n      });\n      localStorage.setItem('products', JSON.stringify(newDeleteList));\n      return { ...state,\n        products: newDeleteList,\n        productCurrent: newDeleteList[0]\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/dmitriikosach/testQuest/src/reducers/productsReducer.js"],"names":["products","id","name","description","price","creationDate","image","localStorage","setItem","JSON","stringify","initialState","parse","getItem","productCurrent","sortBy","productsReducer","state","action","productsList","type","list","map","product","payload","productsListBySearch","filter","toLowerCase","includes","productsListBySort","sort","a","b","Number","parseFloat","newList","Array","from","push","newDeleteList"],"mappings":"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","sourcesContent":["\nconst products = [\n    {id: 1,\n        name: \"Apple\",\n        description: \"An apple is an edible fruit produced by an apple tree (Malus domestica). \",\n        price: \"13.50\",\n        creationDate: \"13-09-2021\",\n        image: \"https://image.freepik.com/free-photo/red-apple-with-green-leaf-white-background_1232-3290.jpg?2\"\n    },\n    {id: 2,\n        name: \"Orange\",\n        description: \"The orange is the fruit of various citrus species in the family Rutaceae. \",\n        price: \"4.50\",\n        creationDate: \"22-03-2021\",\n        image: \"https://image.freepik.com/free-vector/watercolor-orange-background_52683-10330.jpg\"\n    },\n    {id: 3,\n        name: \"Banana\",\n        description: \"A banana is an elongated, edible fruit – botanically a berry – produced by several kinds of large herbaceous flowering plants in the genus Musa.\",\n        price: \"12.30\",\n        creationDate: \"19-07-2021\",\n        image: \"https://image.freepik.com/free-photo/peeled-banana-isolated-white-background-with-clipping-path_88281-97.jpg\"\n    }\n]\nlocalStorage.setItem('products', JSON.stringify(products));\n\nconst initialState = {\n    products: JSON.parse(localStorage.getItem('products')),\n    productCurrent: products[0],\n    sortBy: \"\"\n}\n\nexport function productsReducer (state = initialState, action){\n    let productsList = JSON.parse(localStorage.getItem('products'));\n    switch (action.type){\n\n        case 'UPDATE_PRODUCT_DETAILS':\n            const list = productsList.map(product => {\n                return product.id === action.payload.id ? action.payload : product;\n            })\n            localStorage.setItem('products', JSON.stringify(list));\n            return {...state, products: list};\n\n        case 'UPDATE_PRODUCTS_LIST_BY_SEARCH':\n            if(action.payload ===\"\"){\n                return {...state, products: productsList};\n            }\n            const productsListBySearch = productsList.filter(product => {\n                return product.name.toLowerCase().includes(action.payload.toLowerCase()) === true ? product : \"\"\n            })\n            return {...state, products: productsListBySearch};\n\n        case 'UPDATE_PRODUCTS_LIST_BY_SORT':\n            let productsListBySort = [];\n            switch (action.payload){\n                case 'name':\n                    productsListBySort = productsList.sort((a,b) => {\n                        return a.name > b.name ? 1 : -1;\n                    })\n                    return {...state, products: productsListBySort, sortBy: action.payload};\n                case 'id':\n                case 'no sort':\n                    productsListBySort = productsList.sort((a,b) => {\n                        return a.id > b.id ? 1 : -1;\n                    })\n                    return {...state, products: productsListBySort, sortBy: action.payload};\n                case 'price':\n                    productsListBySort = productsList.sort((a,b) => {\n                        return Number.parseFloat(a.price) > Number.parseFloat(b.price) ? 1 : -1;\n                    })\n                    return {...state, products: productsListBySort, sortBy: action.payload};\n                default:\n                    return state;\n            }\n\n        case 'UPDATE_PRODUCT_CURRENT':\n            return {...state, productCurrent: action.payload}\n\n        case 'ADD_NEW_PRODUCT':\n            const newList = Array.from([...productsList]);\n            newList.push(action.payload)\n            localStorage.setItem('products', JSON.stringify(newList));\n          return {...state, products: newList}\n\n        case 'DELETE_PRODUCT':\n            const newDeleteList = productsList.filter(product => {\n                return product.id !== action.payload;\n            })\n            localStorage.setItem('products', JSON.stringify(newDeleteList));\n            return {...state, products: newDeleteList, productCurrent: newDeleteList[0]}\n\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}